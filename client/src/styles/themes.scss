// Advanced Theme System for JASON AI Platform
// Supports dark, light, and quantum themes with smooth transitions
@use "sass:map";

// Theme color palettes
$themes: (
  dark: (
    // Primary colors
    primary: #4f46e5,
    primary-dark: #4338ca,
    primary-light: #6366f1,
    
    // Background colors
    background: #0a0a0a,
    background-secondary: #1a1a2e,
    background-tertiary: #16213e,
    surface: rgba(255, 255, 255, 0.05),
    surface-hover: rgba(255, 255, 255, 0.1),
    
    // Text colors
    text: #ffffff,
    text-secondary: #b3b3b3,
    text-muted: #666666,
    
    // Accent colors
    accent: #06b6d4,
    accent-secondary: #10b981,
    warning: #f59e0b,
    error: #ef4444,
    success: #10b981,
    
    // Border and divider colors
    border: rgba(255, 255, 255, 0.1),
    divider: rgba(255, 255, 255, 0.05),
    
    // Shadow colors
    shadow: rgba(0, 0, 0, 0.5),
    shadow-light: rgba(0, 0, 0, 0.2),
    
    // Gradient stops
    gradient-start: #0a0a0a,
    gradient-middle: #1a1a2e,
    gradient-end: #16213e
  ),
  
  light: (
    // Primary colors
    primary: #3b82f6,
    primary-dark: #2563eb,
    primary-light: #60a5fa,
    
    // Background colors
    background: #f8fafc,
    background-secondary: #f1f5f9,
    background-tertiary: #e2e8f0,
    surface: rgba(255, 255, 255, 0.8),
    surface-hover: rgba(255, 255, 255, 0.9),
    
    // Text colors
    text: #1a202c,
    text-secondary: #4a5568,
    text-muted: #718096,
    
    // Accent colors
    accent: #06b6d4,
    accent-secondary: #10b981,
    warning: #f59e0b,
    error: #ef4444,
    success: #10b981,
    
    // Border and divider colors
    border: rgba(0, 0, 0, 0.1),
    divider: rgba(0, 0, 0, 0.05),
    
    // Shadow colors
    shadow: rgba(0, 0, 0, 0.15),
    shadow-light: rgba(0, 0, 0, 0.05),
    
    // Gradient stops
    gradient-start: #f8fafc,
    gradient-middle: #e2e8f0,
    gradient-end: #cbd5e1
  ),
  
  quantum: (
    // Primary colors
    primary: #8b5cf6,
    primary-dark: #7c3aed,
    primary-light: #a78bfa,
    
    // Background colors
    background: #0f0f23,
    background-secondary: #1a0b2e,
    background-tertiary: #2d1b69,
    surface: rgba(139, 92, 246, 0.1),
    surface-hover: rgba(139, 92, 246, 0.2),
    
    // Text colors
    text: #e0e7ff,
    text-secondary: #c4b5fd,
    text-muted: #8b5cf6,
    
    // Accent colors
    accent: #d946ef,
    accent-secondary: #06b6d4,
    warning: #f59e0b,
    error: #ef4444,
    success: #10b981,
    
    // Border and divider colors
    border: rgba(139, 92, 246, 0.2),
    divider: rgba(139, 92, 246, 0.1),
    
    // Shadow colors
    shadow: rgba(139, 92, 246, 0.3),
    shadow-light: rgba(139, 92, 246, 0.1),
    
    // Gradient stops
    gradient-start: #0f0f23,
    gradient-middle: #1a0b2e,
    gradient-end: #2d1b69
  )
);

// Theme mixin generator
@mixin theme($theme-name) {
  $theme: map.get($themes, $theme-name);
  
  @each $property, $value in $theme {
    --#{$property}: #{$value};
  }
}

// Root theme variables
:root {
  @include theme(quantum); // Default theme
  
  // Animation durations
  --transition-fast: 0.15s;
  --transition-normal: 0.3s;
  --transition-slow: 0.5s;
  
  // Border radius
  --radius-sm: 0.375rem;
  --radius-md: 0.5rem;
  --radius-lg: 0.75rem;
  --radius-xl: 1rem;
  --radius-2xl: 1.5rem;
  
  // Spacing
  --spacing-xs: 0.25rem;
  --spacing-sm: 0.5rem;
  --spacing-md: 1rem;
  --spacing-lg: 1.5rem;
  --spacing-xl: 2rem;
  --spacing-2xl: 3rem;
  
  // Font sizes
  --text-xs: 0.75rem;
  --text-sm: 0.875rem;
  --text-base: 1rem;
  --text-lg: 1.125rem;
  --text-xl: 1.25rem;
  --text-2xl: 1.5rem;
  --text-3xl: 1.875rem;
  --text-4xl: 2.25rem;
  
  // Z-index layers
  --z-dropdown: 1000;
  --z-sticky: 1020;
  --z-fixed: 1030;
  --z-modal-backdrop: 1040;
  --z-modal: 1050;
  --z-popover: 1060;
  --z-tooltip: 1070;
}

// Theme classes
.theme-dark {
  @include theme(dark);
}

.theme-light {
  @include theme(light);
}

.theme-quantum {
  @include theme(quantum);
}

// Global theme styles
* {
  transition: background-color var(--transition-normal) ease,
              border-color var(--transition-normal) ease,
              color var(--transition-normal) ease,
              box-shadow var(--transition-normal) ease;
}

body {
  background: linear-gradient(135deg, 
    var(--gradient-start) 0%, 
    var(--gradient-middle) 50%, 
    var(--gradient-end) 100%);
  color: var(--text);
  transition: all var(--transition-slow) ease;
}

// Component theme styles
.themed-card {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: var(--radius-lg);
  backdrop-filter: blur(20px);
  box-shadow: 0 8px 32px var(--shadow-light);
  transition: all var(--transition-normal) ease;
  
  &:hover {
    background: var(--surface-hover);
    box-shadow: 0 12px 48px var(--shadow);
    transform: translateY(-2px);
  }
}

.themed-button {
  background: var(--primary);
  color: white;
  border: none;
  border-radius: var(--radius-md);
  padding: var(--spacing-sm) var(--spacing-lg);
  font-size: var(--text-base);
  font-weight: 500;
  cursor: pointer;
  transition: all var(--transition-normal) ease;
  position: relative;
  overflow: hidden;
  
  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, 
      transparent, 
      rgba(255, 255, 255, 0.2), 
      transparent);
    transition: left var(--transition-slow) ease;
  }
  
  &:hover {
    background: var(--primary-dark);
    box-shadow: 0 8px 25px var(--shadow);
    transform: translateY(-2px);
    
    &::before {
      left: 100%;
    }
  }
  
  &:active {
    transform: translateY(0);
  }
  
  &.secondary {
    background: var(--surface);
    color: var(--text);
    border: 1px solid var(--border);
    
    &:hover {
      background: var(--surface-hover);
      border-color: var(--primary);
    }
  }
  
  &.accent {
    background: var(--accent);
    
    &:hover {
      background: var(--accent-secondary);
    }
  }
}

.themed-input {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: var(--radius-md);
  padding: var(--spacing-sm) var(--spacing-md);
  color: var(--text);
  font-size: var(--text-base);
  transition: all var(--transition-normal) ease;
  
  &::placeholder {
    color: var(--text-muted);
  }
  
  &:focus {
    outline: none;
    border-color: var(--primary);
    box-shadow: 0 0 0 3px rgba(var(--primary), 0.1);
    background: var(--surface-hover);
  }
}

.themed-modal {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: var(--radius-xl);
  backdrop-filter: blur(40px);
  box-shadow: 0 25px 50px var(--shadow);
}

.themed-navigation {
  background: var(--surface);
  border-bottom: 1px solid var(--border);
  backdrop-filter: blur(20px);
  
  .nav-item {
    color: var(--text-secondary);
    padding: var(--spacing-sm) var(--spacing-md);
    border-radius: var(--radius-md);
    transition: all var(--transition-normal) ease;
    
    &:hover {
      color: var(--text);
      background: var(--surface-hover);
    }
    
    &.active {
      color: var(--primary);
      background: rgba(var(--primary), 0.1);
    }
  }
}

.themed-sidebar {
  background: var(--surface);
  border-right: 1px solid var(--border);
  backdrop-filter: blur(20px);
  
  .sidebar-item {
    color: var(--text-secondary);
    padding: var(--spacing-sm) var(--spacing-md);
    margin: var(--spacing-xs) 0;
    border-radius: var(--radius-md);
    transition: all var(--transition-normal) ease;
    
    &:hover {
      color: var(--text);
      background: var(--surface-hover);
    }
    
    &.active {
      color: var(--primary);
      background: rgba(var(--primary), 0.1);
      border-left: 3px solid var(--primary);
    }
  }
}

.themed-tooltip {
  background: var(--surface);
  color: var(--text);
  border: 1px solid var(--border);
  border-radius: var(--radius-md);
  padding: var(--spacing-xs) var(--spacing-sm);
  font-size: var(--text-sm);
  backdrop-filter: blur(20px);
  box-shadow: 0 8px 25px var(--shadow);
}

.themed-dropdown {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: var(--radius-lg);
  backdrop-filter: blur(20px);
  box-shadow: 0 12px 35px var(--shadow);
  
  .dropdown-item {
    color: var(--text-secondary);
    padding: var(--spacing-sm) var(--spacing-md);
    transition: all var(--transition-fast) ease;
    
    &:hover {
      color: var(--text);
      background: var(--surface-hover);
    }
    
    &:first-child {
      border-radius: var(--radius-lg) var(--radius-lg) 0 0;
    }
    
    &:last-child {
      border-radius: 0 0 var(--radius-lg) var(--radius-lg);
    }
  }
}

// Theme toggle animation
.theme-transition {
  transition: all var(--transition-slow) cubic-bezier(0.4, 0, 0.2, 1);
}

// Glow effects for quantum theme
.theme-quantum {
  .themed-card:hover {
    box-shadow: 0 12px 48px var(--shadow),
                0 0 20px rgba(139, 92, 246, 0.3);
  }
  
  .themed-button:hover {
    box-shadow: 0 8px 25px var(--shadow),
                0 0 15px rgba(139, 92, 246, 0.4);
  }
  
  .nav-item.active,
  .sidebar-item.active {
    box-shadow: 0 0 10px rgba(139, 92, 246, 0.3);
  }
}

// High contrast mode support
@media (prefers-contrast: high) {
  :root {
    --border: rgba(255, 255, 255, 0.3);
    --text-secondary: rgba(255, 255, 255, 0.9);
  }
  
  .theme-light {
    --border: rgba(0, 0, 0, 0.3);
    --text-secondary: rgba(0, 0, 0, 0.8);
  }
}

// Reduced motion support
@media (prefers-reduced-motion: reduce) {
  * {
    transition-duration: 0.01ms !important;
    animation-duration: 0.01ms !important;
  }
}

// Print styles
@media print {
  :root {
    @include theme(light);
  }
  
  .themed-card,
  .themed-modal,
  .themed-navigation,
  .themed-sidebar {
    background: white !important;
    color: black !important;
    border-color: #ccc !important;
    box-shadow: none !important;
  }
}

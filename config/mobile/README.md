# JASON Mobile Device Control System

This directory contains configuration files for the JASON Mobile Device Control System, which enables real device scanning and control.

## Prerequisites

To enable full functionality of the mobile control system, you'll need:

1. For Android devices:
   - Firebase Cloud Messaging (FCM) account and project
   - A companion app installed on Android devices

2. For iOS devices:
   - Apple Developer account
   - Apple Push Notification service (APNs) certificates
   - A companion app installed on iOS devices

## Configuration Files

### 1. `fcm.json`

This file contains Firebase Cloud Messaging configuration for Android devices:

```json
{
  "serverKey": "YOUR_FCM_SERVER_KEY",
  "senderId": "YOUR_FCM_SENDER_ID"
}
```

To obtain these values:

1. Go to the [Firebase Console](https://console.firebase.google.com/)
2. Create or select your project
3. Navigate to Project Settings > Cloud Messaging
4. Copy the Server key and Sender ID

### 2. `apns.json`

This file contains Apple Push Notification service configuration for iOS devices:

```json
{
  "keyId": "YOUR_APNs_KEY_ID",
  "teamId": "YOUR_APPLE_TEAM_ID",
  "keyPath": "/path/to/AuthKey_KEYID.p8",
  "bundleId": "com.yourdomain.jasonapp"
}
```

To obtain these values:

1. Go to the [Apple Developer Portal](https://developer.apple.com/)
2. Create an APNs key in Certificates, Identifiers & Profiles
3. Download the key file (.p8) and note the Key ID
4. Find your Team ID in your account details

### 3. `devices.json`

This file is automatically generated and maintained by the system. It stores information about discovered and registered mobile devices.

## How Device Discovery Works

The JASON Mobile Control System uses multiple methods to discover devices:

1. **UDP Broadcast Discovery**: Mobile devices with the JASON companion app can announce themselves on the network.
2. **mDNS/Bonjour Discovery**: Devices advertise themselves using Multicast DNS.
3. **Network Scanning**: The system scans the local network for devices with specific open ports.
4. **Manual Registration**: Devices can be registered manually through the API.

## Companion App Requirements

For full functionality, a companion app should be developed for both Android and iOS with these features:

1. Listen for UDP discovery messages on port 45679
2. Advertise presence using mDNS/Bonjour with service type "jason-mobile"
3. Expose a REST API on port 8080 with these endpoints:
   - `/api/find` - Make the device ring/vibrate
   - `/api/notification` - Display a notification
   - `/api/battery` - Return battery status
   - `/api/location` - Return device location
   - `/api/status` - Return device status information

4. Register for push notifications using FCM (Android) or APNs (iOS)

## Security Considerations

The current implementation is designed for home networks. For security:

1. Use HTTPS for all API communications
2. Implement proper authentication between the server and devices
3. Store sensitive configuration files outside the source code repository
4. Consider encrypting device data storage
